* refactor all the things
* tests more bad paths
* cleaner future stuff ?
* check for mem leaks
